# Session Progress: 2026-01-11

## Release v0.2.5 Published

Successfully released **v0.2.5** with 107 commits since v0.2.0.

### Release Artifacts
- **GitHub Release**: https://github.com/Finesssee/ProxyPilot/releases/tag/v0.2.5
- **npm Package**: `proxypilot@0.2.5` (via Bun publish)
- **Binaries**: darwin/linux/windows × amd64/arm64

---

## Changes Made This Session

### 1. Gemini 3 Flash Thinking Enabled
**File**: `internal/util/gemini_thinking.go:263`

Uncommented `gemini-3-flash-preview` in `modelsWithDefaultThinking` map so Flash returns `reasoning_content` by default.

```go
var modelsWithDefaultThinking = map[string]bool{
    "gemini-3-pro-preview":       true,
    "gemini-3-pro-image-preview": true,
    "gemini-3-flash-preview":     true,  // Was commented, now enabled
}
```

**Commit**: `feat(gemini): enable thinking by default for Gemini 3 Flash`

### 2. npm Package Version Bump
**File**: `bun/proxypilot/package.json`

Bumped version `0.2.0` → `0.2.5` to fix npm publish workflow failure (can't republish same version).

**Commit**: `chore(npm): bump version to 0.2.5`

---

## v0.2.5 Release Highlights

### New Features
- **Gemini 3 Support**: Full Gemini 3 Pro/Flash preview models with thinking
- **Kiro Integration**: AWS Bedrock via Kiro IDE auth
- **Smart Quota Fallback**: Auto-cascade Antigravity → Gemini CLI → Kiro on 429
- **WebUI Dashboard**: Real-time auth/usage monitoring
- **Caching Layer**: Response caching with configurable TTL

### Improvements
- Thinking token handling with `thoughtSignature`
- Atomic auth rotation fixes
- Memory leak fixes in credential refresh
- Optimized streaming response handling

### Removed
- Deprecated iFlow provider (defunct Chinese AI service)

---

## Auth Files (Local Machine)

| Provider | Files | Endpoints | Notes |
|----------|-------|-----------|-------|
| Antigravity | 4 | 4 | Google Vertex AI |
| Claude | 1 | 0 | ❌ Expired 2025-12-28 |
| Codex | 1 | 0 | ❌ Expired 2026-01-09 |
| Gemini | 2 | 12 | Multi-project containers |
| **Total** | **8** | **16** | 2 stale files |

*Gemini `-all.json` files contain comma-separated `project_id` lists - each project = 1 endpoint.*

---

## Testing Performed

- ✅ Health endpoint (`/health`)
- ✅ Models endpoint (`/v1/models`)
- ✅ Claude chat completions via Antigravity
- ✅ Gemini 2.5 Pro/Flash
- ✅ Gemini 3 Pro preview
- ✅ Gemini 3 Flash preview (with thinking)
- ✅ Round-robin distribution working

---

## Workflow Fixes

### Issue: npm Publish Failed
```
403 Forbidden: You cannot publish over previously published versions: 0.2.0
```

**Root Cause**: `bun/proxypilot/package.json` still had version `0.2.0`

**Fix**:
1. Bumped to `0.2.5`
2. Pushed to main
3. Re-triggered `Publish ProxyPilot via Bun` workflow
4. ✅ Published successfully
